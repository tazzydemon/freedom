(function(e,t,n,r){"use strict";if(e.fn.bindToMapsApp)return false;var i=null,s={ios:/\biP(?:hone|(?:a|o)d)\b/,ios6:/\biP(?:hone|(?:a|o)d).*?iOS (?:[6-9]_|[1-9][0-9])\b/,android:/\bAndroid\b/,wp7:/\bWindows Phone.+?7(?!\d)/,wp8:/\bWindows Phone.+?8(?!\d)/,win8:/\bWindows NT (?:6\.[2-9]|[7-9]|[1-9][0-9])/,other:/./};e.each(s,function(e){if(r.userAgent.match(this)){i=e;return false}});e.fn.bindToMapsApp=function(t){var n=this,r={options:{platforms:{ios:{address:{base:"maps:?q={name}{address}",name:"{name}",address:", {address}",external:false},coords:{base:"maps:?q={name}{latlon}",name:"q={name}",latlon:"@{lat},{lon}",external:false}},ios6:{address:{base:"http://maps.apple.com/?q={name}{address}{zoom}",name:"{name}",address:", {address}",zoom:"&z={zoom}",external:false},coords:{base:"http://maps.apple.com/?{name}{latlon}{zoom}",name:"q={name}",latlon:"&sll={lat},{lon}",zoom:"&z={zoom}",external:false}},android:{address:{base:"geo:0,0?{address} {name}{zoom}",address:"q={address}",name:"({name})",zoom:"&z={zoom}",external:false},coords:{base:"geo:{latlon}?q={latlon}{name}{zoom}",latlon:"{lat},{lon}",name:"({name})",zoom:"&z={zoom}",external:false}},wp7:{address:{base:"maps:{name}{address}",name:"{name}",address:", {address}",external:false},coords:{base:"maps:{latlon}",latlon:"{lat} {lon}",external:false}},wp8:{address:{base:"maps:{name}{address}",name:"{name}",address:", {address}",external:false},coords:{base:"maps:{latlon}",latlon:"{lat} {lon}",external:false}},win8:{address:{base:"bingmaps:?where={name}{address}{zoom}",name:"{name}",address:", {address}",zoom:"&lvl={zoom}",external:false},coords:{base:"bingmaps:?{latlon}{zoom}",latlon:"cp={lat}~{lon}",zoom:"&lvl={zoom}",external:false}},other:{address:{base:"http://maps.google.com/?q={name}{address}{zoom}",name:"{name}",address:", {address}",zoom:"&z={zoom}",external:true},coords:{base:"http://maps.google.com/?{name}{latlon}{zoom}",name:"q={name}",latlon:"&sll={lat},{lon}",zoom:"&z={zoom}",external:true}}}},init:function(t){e.extend(true,this.options,t);var r={name:{regex:/\{name\}/g,value:n.data("name")},address:{regex:/\{address\}/g,value:n.data("address")},latlon:{regex:/\{latlon\}/g,lat:{regex:/\{lat\}/g,value:n.data("lat")},lon:{regex:/\{lon\}/g,value:n.data("lon")}},zoom:{regex:/\{zoom\}/g,value:n.data("zoom")}},s,o=this.options.platforms[i];if(0&&r.address.value){o=o.address;s=o.base}else if(r.latlon.lat.value&&r.latlon.lon.value){o=o.coords;s=o.base}e.each(r,function(e){if(o[e]){if(this.value!==undefined){s=s.replace(this.regex,o[e].replace(this.regex,this.value))}else if(this.lat&&this.lat.value!==undefined&&this.lon&&this.lon.value!==undefined){s=s.replace(this.regex,o[e].replace(this.lat.regex,this.lat.value).replace(this.lon.regex,this.lon.value))}else{s=s.replace(this.regex,"")}}});n.attr("href",s);if(o.external)n.attr("target","_blank")}}.init(t)}})(jQuery,window,document,navigator)